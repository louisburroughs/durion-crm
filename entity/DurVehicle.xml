<?xml version="1.0" encoding="UTF-8"?>
<entities xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/entity-definition-3.xsd">

    <entity entity-name="DurVehicle" package-name="durion.crm" table-name="DUR_VEHICLE">
        <description>Vehicle master data - individual vehicles and fleet vehicles</description>
        <field name="vehicleId" type="id" is-pk="true"/>
        <field name="customerId" type="id" is-pk="false">
            <description>Owner or primary operator</description>
        </field>
        <field name="fleetId" type="id" is-pk="false">
            <description>Fleet assignment if applicable</description>
        </field>
        <field name="vin" type="text-short">
            <description>Vehicle Identification Number</description>
        </field>
        <field name="year" type="number-integer"/>
        <field name="make" type="text-short"/>
        <field name="model" type="text-short"/>
        <field name="bodyType" type="text-short">
            <description>SEDAN, SUV, TRUCK, VAN, etc.</description>
        </field>
        <field name="color" type="text-short"/>
        <field name="licensePlate" type="text-short"/>
        <field name="mileage" type="number-decimal" default="0"/>
        <field name="registrationDate" type="date"/>
        <field name="nextServiceDate" type="date"/>
        <field name="statusId" type="text-short" default="VEHICLE_ACTIVE"/>
        <field name="notes" type="text-long"/>
        <field name="createdDate" type="date-time" default="ec.user.nowTimestamp"/>
        <field name="updatedDate" type="date-time" update="ec.user.nowTimestamp"/>
        <relationship type="one" related-entity-name="DurCustomer" short-alias="customer">
            <key-map field-name="customerId" related-field-name="customerId"/>
        </relationship>
        <relationship type="one" related-entity-name="DurFleet" short-alias="fleet">
            <key-map field-name="fleetId" related-field-name="fleetId"/>
        </relationship>
    </entity>

</entities>
